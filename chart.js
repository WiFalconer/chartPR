Highcharts.setOptions({
    lang: {
        thousandsSep: ','
    },
    legend: {
        itemStyle: {
            color: '#FFF'
        },
        itemHiddenStyle: {
            color: '#777'
        },
        itemHoverStyle: {
            color: '#777'
        }
    },

    title: {
        style: {
            color: '#FFF',
            fill: '#FFF',
            fontWeight: 'bold'
        }
    },

    subtitle: {
        style: {
            color: '#FFF',
            fill: '#FFF',
            fontWeight: 'bold'
        }
    },
});

var categories = ['0-4', '5-9', '10-14', '15-19',
    '20-24', '25-29', '30-34', '35-39', '40-44',
    '45-49', '50-54', '55-59', '60-64', '65-69',
    '70-74', '75-79', '80-84', '85 + '
];


$(document).ready(function () {
    Highcharts.chart('chart1', {
        chart: {
            backgroundColor: '#000',
            type: 'bar',
        },
        title: {
            text: 'Poblaci√≥n total de Puerto Rico 1899 - 2016 por grupos de edades',

        },
        subtitle: {
            text: 'Fuente: census.gov',

        },
        xAxis: [{
            categories: categories,
            reversed: false,
            labels: {
                style: {
                    color: '#fff',
                    step: 1
                }
            }
        }, { // Mirror axis in the right side
            opposite: true,
            reversed: false,
            categories: categories,
            linkedTo: 0,
            labels: {
                style: {
                    color: '#fff',
                    step: 1
                }
            }
        }],
        yAxis: {
            title: {
                text: null
            },
            labels: {
                style: {
                    color: '#fff'
                },
                formatter: function () {
                    return Math.abs(this.value / 10000) + '%';
                }
            }
        },

        plotOptions: {
            // Spacing between data bars
            series: {
                stacking: 'normal',

            }
        },

        tooltip: {
            backgroundColor: '#FFF',
            // This controls the hovering box when mouse is over data
            formatter: function () {
                return '<b>' + this.series.name + ', Age ' + this.point.category + '</b><br/>' +
                    'Population: ' + Highcharts.numberFormat(Math.abs(this.point.y), 0);
            }
        },

        credits: {
            enabled: false
        },

        motion: {
            // Enables the motion aspect of the graph
            enabled: true,
            labels: [1899, 1910, 1920, 1930, 1940, 1950, 1960, 1970, 1980, 1990, 2000, 2010, 2011, 2012, 2013, 2014, 2015, 2016],
            series: [0, 1],
            updateInterval: 30,
            loop: true,
        },

        series: [{
            name: 'Total',
            color: '#FFD13F',
            borderColor: '#FFD13F',
            data: [{
                sequence: [150403, 185189, 200255, 226468, 280440, 366422, 318106, 318106, 340652, 302173, 295406, 224756, 213462, 205278, 197173, 185901, 174875, 161514]
            }, {
                sequence: [143546, 151223, 195131, 224022, 251652, 318127, 338254, 338254, 330331, 316473, 305162, 240004, 228909, 222321, 216236, 208914, 200412, 188163]
            }, {
                sequence: [124353, 143751, 168054, 199337, 227097, 270727, 354560, 337008, 338291, 339573, 305800, 268571, 259845, 249769, 239184, 229144, 217747, 206604]
            }, {
                sequence: [93148, 113789, 126248, 186150, 206149, 220231, 291326, 291326, 337134, 326717, 313436, 284259, 274958, 267879, 260120, 249966, 242568, 234298]
            }, {
                sequence: [88475, 108508, 128531, 149336, 206326, 192930, 234876, 233876, 272430, 287227, 301191, 260850, 264094, 263539, 262420, 257500, 248792, 240621]
            }, {
                sequence: [84265, 94213, 96053, 99780, 148008, 157992, 182638, 182638, 236136, 270562, 271507, 244159, 233990, 227123, 224022, 222722, 224671, 225720]
            }, {
                sequence: [64317, 70422, 78005, 94709, 102596, 131737, 156652, 156652, 229762, 254287, 262825, 248173, 243564, 237053, 229793, 220629, 208957, 198834]
            }, {
                sequence: [47556, 64288, 77089, 92356, 101138, 133109, 145123, 145123, 194284, 236509, 264849, 241270, 234603, 230729, 228480, 224179, 221215, 215572]
            }, {
                sequence: [44246, 52344, 61450, 72548, 86032, 91237, 148847, 128847, 165652, 225970, 250814, 242258, 237766, 234295, 230649, 225797, 219817, 213188]
            }, {
                sequence: [26397, 37163, 50273, 55944, 69002, 75745, 121966, 65689, 145020, 193984, 233120, 247986, 245773, 242319, 236912, 230070, 224760, 219701]
            }, {
                sequence: [32871, 33351, 41624, 47219, 56991, 71237, 105571, 105571, 129786, 161874, 229916, 239821, 238220, 236117, 236012, 235096, 232541, 228911]
            }, {
                sequence: [15330, 18793, 21586, 26018, 34444, 46525, 96455, 96453, 119538, 140952, 188883, 223607, 224719, 225588, 225524, 224570, 223946, 222473]
            }, {
                sequence: [18386, 19133, 24387, 30400, 35387, 49106, 81584, 81584, 104935, 124852, 160564, 218077, 215590, 211637, 208784, 207811, 206919, 209821]
            }, {
                sequence: [6679, 9823, 10962, 14106, 25328, 32963, 66383, 66383, 94544, 112718, 134281, 175411, 184523, 190952, 195617, 197813, 199104, 199167]
            }, {
                sequence: [6246, 7406, 9156, 11722, 16577, 21624, 43409, 43409, 65480, 86679, 106670, 136251, 139946, 144141, 148941, 153056, 157583, 165601]
            }, {
                sequence: [6918, 8562, 10708, 13576, 21201, 21611, 67885, 28366, 45381, 67822, 83078, 100740, 104019, 106795, 109753, 113118, 115961, 119272]
            }, {
                sequence: [107, 54, 297, 222, 947, 5768, 0, 20000, 24245, 41000, 53402, 67000, 69339, 71040, 72738, 75054, 78393, 81594]
            }, {
                sequence: [0, 0, 0, 0, 0, 0, 0, 18919, 22919, 32665, 47706, 62596, 65416, 67912, 70721, 73548, 75921, 80253]
            }]

        }],
    });
});
